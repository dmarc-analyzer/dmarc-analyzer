/*
 * DMARC Analyzer API
 *
 * API version: 1.0.0
 * Generated by: OpenAPI Generator (https://openapi-generator.tech)
 */

// Code generated by openapi-generator from api/openapi.json. DO NOT EDIT.

package {{packageName}}

import (
	"net/http"

	"github.com/gin-gonic/gin"
)

const openAPIParamsKey = "openapi.params"

{{#operations}}
{{#operation}}
{{#hasParams}}
type {{nickname}}Params struct {
{{#allParams}}
	{{paramName}} {{#required}}{{{dataType}}}{{/required}}{{^required}}*{{{dataType}}}{{/required}}
{{/allParams}}
}

func Get{{nickname}}Params(c *gin.Context) {{nickname}}Params {
	value, ok := c.Get(openAPIParamsKey)
	if !ok {
		return {{nickname}}Params{}
	}
	params, _ := value.({{nickname}}Params)
	return params
}

func bind{{nickname}}Params(c *gin.Context) ({{nickname}}Params, bool) {
	var params {{nickname}}Params
{{#allParams}}
{{#isPathParam}}
	params.{{paramName}} = c.Param("{{baseName}}")
	if params.{{paramName}} == "" {
		c.JSON(http.StatusBadRequest, gin.H{"error": "{{baseName}} is required"})
		return params, false
	}
{{/isPathParam}}
{{#isQueryParam}}
	{{#required}}
	if value, ok := c.GetQuery("{{baseName}}"); ok {
		params.{{paramName}} = value
	} else {
		c.JSON(http.StatusBadRequest, gin.H{"error": "{{baseName}} is required"})
		return params, false
	}
	{{/required}}
	{{^required}}
	if value, ok := c.GetQuery("{{baseName}}"); ok {
		params.{{paramName}} = &value
	}
	{{/required}}
{{/isQueryParam}}
{{/allParams}}
	return params, true
}
{{/hasParams}}

func {{nickname}}FromOpenAPI(c *gin.Context) {
{{#hasParams}}
	params, ok := bind{{nickname}}Params(c)
	if !ok {
		return
	}
	c.Set(openAPIParamsKey, params)
{{/hasParams}}
	{{nickname}}(c)
}

{{/operation}}
{{/operations}}
